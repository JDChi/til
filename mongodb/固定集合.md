# 固定集合
MongoDB 里有一种限定大小的集合——固定集合。在声明的时候，设置 capped 字段。
```shell
db.createCollection("hello", {"capped": true, "size": 1024})
```

它底层使用的是顺序 I/O，故相比普通集合的随机 I\O 会更加高效。

它遵循 FIFO 规则，故如果文档数量达到限制，最前面的会被覆盖。

它有两个参数，只要达到其一，就认为到了限制
- max：文档的最大数量，可选
- size: 集合占用的最大空间，必选

固定集合有几个限制：
- 如果要修改参数，只能重新创建
- 如果要修改数据，必须新旧文档的大小一致
- 不能删除已有的数据
- 不支持分片，也不支持在事务里操作它

固定集合适合用来做日志存储，或是 TopN 之类的需求。